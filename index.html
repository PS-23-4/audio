<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Audio Streaming</title>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            let audio = document.getElementById("audioPlayer");

            // Disable seeking
            audio.addEventListener("timeupdate", function() {
                if (audio.currentTime < audio.lastTime) {
                    audio.currentTime = audio.lastTime;
                }
                audio.lastTime = audio.currentTime;
            });

            // Close the page when audio ends
            audio.addEventListener("ended", function() {
                window.close();
            });

            // Disable right-click & keyboard shortcuts
            document.addEventListener("contextmenu", function(e) {
                e.preventDefault();
            });

            document.addEventListener("keydown", function(e) {
                if (e.ctrlKey && (e.key === "s" || e.key === "S" || e.key === "u")) {
                    e.preventDefault();
                }
            });

            // One-time play restriction
            if (localStorage.getItem("audioPlayed")) {
                document.body.innerHTML = "<p>Audio playback is restricted.</p>";
            } else {
                localStorage.setItem("audioPlayed", "true");
            }
        });
    </script>
</head>
<body>
    <audio id="audioPlayer" controls autoplay style="width:100%;" preload="none">
        <source src="example_audio_final.mp3" type="audio/mp3">
        Your browser does not support the audio element.
    </audio>
</body>
</html>
